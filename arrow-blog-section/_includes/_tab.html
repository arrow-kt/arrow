<div id="media-tab">
  <div class="wrapper">
    <div class="tab-flex">
      <span class="tab-title">Media</span>
      <nav class="tab-menu-search">
        <ul class="tab-menu">
          {% for item in site.data.menu-media-categories.tab %}
          {% assign cat = item.category | downcase %}
          {% if page.category == nil and cat == 'allposts' %}
          {% assign class = "tab-item active" %}
          {% elsif page.category == cat %}
          {% assign class = "tab-item active" %}
          {% else %}
          {% assign class = "tab-item" %}
          {% endif %}
          <li class="{{ class }}">
            <a href="{{ item.url }}" alt="{{ item.title }}">{{ item.title }}</a>
          </li>
          {% endfor %}
        </ul>
        <div id="search-container">
          <img src="/img/search-icon.svg" title="search">
          <input type="text" id="search-input" placeholder="Search" />
          <ul id="results-container"></ul>
        </div>
        <!-- Script pointing to jekyll-search.js -->
        <script src="{{ site.baseurl }}/js/simple-jekyll-search/simple-jekyll-search.min.js" type="text/javascript"></script>
        <script>
          SimpleJekyllSearch({
            searchInput: document.getElementById('search-input'),
            resultsContainer: document.getElementById('results-container'),
            json: '/search.json',
            noResultsText: 'No results found',
            limit: 99,
            fuzzy: false,
          })

          function searchControl(input) {
            if (input.value != "") {
              resultsContainer.style.display = 'block';
            } else {
              resultsContainer.style.display = 'none';
            }
          }

          const searchInput = document.getElementById("search-input");
          const resultsContainer = document.getElementById("results-container");

          searchInput.addEventListener("keyup", function() {
            searchControl(searchInput);
          });

          searchInput.addEventListener("paste", function() {
            searchControl(searchInput);
          });

          searchInput.addEventListener("change", function() {
            searchControl(searchInput);
          });
        </script>
      </nav>
    </div>
  </div>
</div>
