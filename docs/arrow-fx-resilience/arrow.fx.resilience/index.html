<!doctype html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>arrow.fx.resilience</title>
<link href="../../images/logo-icon.svg" rel="icon" type="image/svg"><script>var pathToRoot = "../../";</script>    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="../../scripts/sourceset_dependencies.js" async></script>
<link href="../../styles/style.css" rel="Stylesheet">
<link href="../../styles/jetbrains-mono.css" rel="Stylesheet">
<link href="../../styles/main.css" rel="Stylesheet">
<link href="../../styles/prism.css" rel="Stylesheet">
<link href="../../styles/logo-styles.css" rel="Stylesheet">
<script type="text/javascript" src="../../scripts/clipboard.js" async></script>
<script type="text/javascript" src="../../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../../scripts/main.js" defer></script>
<script type="text/javascript" src="../../scripts/prism.js" async></script>
<script type="text/javascript" src="../../scripts/symbol-parameters-wrapper_deferred.js" defer></script></head>
<body>
<div class="navigation-wrapper" id="navigation-wrapper">
    <div id="leftToggler"><span class="icon-toggler"></span></div>
    <div class="library-name">
<a href="../../index.html">
<span>Arrow</span>            </a>    </div>
    <div>1.1.6-alpha.32.1+2023-02-22T17-49-18-189485Z
    </div>
    <div class="pull-right d-flex">
        <button id="theme-toggle-button"><span id="theme-toggle"></span></button>
        <div id="searchBar"></div>
    </div>
</div>
<div id="container">
    <div id="leftColumn">
        <div id="sideMenu"></div>
    </div>
    <div id="main">
<div class="main-content" id="content" pageids="arrow-fx-resilience::arrow.fx.resilience////PointingToDeclaration//-880363011">
  <div class="breadcrumbs"><a href="../index.html">arrow-fx-resilience</a><span class="delimiter">/</span><span class="current">arrow.fx.resilience</span></div>
  <div class="cover ">
    <h1 class="cover"><span><span>Package-level</span></span> <span><span>declarations</span></span></h1>
  </div>
  <div class="tabbedcontent">
    <div class="tabs-section" tabs-section="tabs-section"><button class="section-tab" data-active="" data-togglable="Types">Types</button><button class="section-tab" data-togglable="Functions">Functions</button><button class="section-tab" data-togglable="Properties">Properties</button></div>
    <div class="tabs-section-body">
      <h2 class="">Types</h2>
      <div class="table" data-togglable="Types"><a data-name="406871783%2FClasslikes%2F-880363011" anchor-label="CircuitBreaker" id="406871783%2FClasslikes%2F-880363011" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"></a>
        <div class="table-row" data-filterable-current=":arrow-fx-resilience:dokkaHtmlPartial/commonMain" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain">
          <div class="main-subrow keyValue ">
            <div class=""><span class="inline-flex">
                <div><a href="-circuit-breaker/index.html"><span>Circuit</span><wbr><span><span>Breaker</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="406871783%2FClasslikes%2F-880363011"></span>
                  <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                </span></span></div>
            <div>
              <div class="title">
                <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"><div class="symbol monospace"><span class="token keyword">class </span><a href="-circuit-breaker/index.html">CircuitBreaker</a></div><div class="brief "><p class="paragraph">A <a href="-circuit-breaker/index.html">CircuitBreaker</a> is used to <code class="lang-kotlin">protect</code> resources or services from being overloaded When a service is being overloaded, interacting with it more will only worsen its overloaded state. Especially when combined with retry mechanisms such as <a href="-schedule/index.html">Schedule</a>, in some cases simply using a back-off retry policy might not be sufficient during peak traffics.</p></div></div></div>
              </div>
            </div>
          </div>
        </div>
<a data-name="868231138%2FClasslikes%2F-880363011" anchor-label="Saga" id="868231138%2FClasslikes%2F-880363011" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"></a>
        <div class="table-row" data-filterable-current=":arrow-fx-resilience:dokkaHtmlPartial/commonMain" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain">
          <div class="main-subrow keyValue ">
            <div class=""><span class="inline-flex">
                <div><a href="index.html#868231138%2FClasslikes%2F-880363011"><span><span>Saga</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="868231138%2FClasslikes%2F-880363011"></span>
                  <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                </span></span></div>
            <div>
              <div class="title">
                <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"><div class="symbol monospace"><span class="token keyword">typealias </span><a href="index.html#868231138%2FClasslikes%2F-880363011">Saga</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="index.html#868231138%2FClasslikes%2F-880363011">A</a><span class="token operator">&gt;</span><span class="token operator"> = </span><span class="token keyword">suspend </span><span class="token keyword"></span><a href="-saga-scope/index.html">SagaScope</a><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><span class="token keyword"></span><a href="index.html#868231138%2FClasslikes%2F-880363011">A</a></div><div class="brief "><p class="paragraph">The saga design pattern is a way to manage data consistency across microservices in distributed transaction scenarios. A <a href="index.html#868231138%2FClasslikes%2F-880363011">Saga</a> is useful when you need to manage data in a consistent manner across services in distributed transaction scenarios. Or when you need to compose multiple <code class="lang-kotlin">actions</code> with a <code class="lang-kotlin">compensation</code> that needs to run in a transaction like style.</p><p class="paragraph">For example, let's say that we have the following domain types <code class="lang-kotlin">Order</code>, <code class="lang-kotlin">Payment</code>.</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">data class Order(val id: UUID, val amount: Long)<br>data class Payment(val id: UUID, val orderId: UUID)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">The creation of an <code class="lang-kotlin">Order</code> can only remain when a payment has been made. In SQL, you might run this inside a transaction, which can automatically roll back the creation of the <code class="lang-kotlin">Order</code> when the creation of the Payment fails.</p><p class="paragraph">When you need to do this across distributed services, or a multiple atomic references, etc. You need to manually facilitate the rolling back of the performed actions, or compensating actions.</p><p class="paragraph">The <a href="index.html#868231138%2FClasslikes%2F-880363011">Saga</a> type, and <a href="saga.html">saga</a> DSL remove all the boilerplate of manually having to facilitate this with a convenient suspending DSL.</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">data class Order(val id: UUID, val amount: Long)<br>suspend fun createOrder(): Order = Order(UUID.randomUUID(), 100L)<br>suspend fun deleteOrder(order: Order): Unit = println("Deleting $order")<br><br>data class Payment(val id: UUID, val orderId: UUID)<br>suspend fun createPayment(order: Order): Payment = Payment(UUID.randomUUID(), order.id)<br>suspend fun deletePayment(payment: Payment): Unit = println("Deleting $payment")<br><br>suspend fun Payment.awaitSuccess(): Unit = throw RuntimeException("Payment Failed")<br><br>suspend fun main() {<br>  saga {<br>    val order = saga({ createOrder() }) { deleteOrder(it) }<br>    val payment = saga { createPayment(order) }, ::deletePayment)<br>    payment.awaitSuccess()<br>  }.transact()<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div></div>
              </div>
            </div>
          </div>
        </div>
<a data-name="1111122592%2FClasslikes%2F-880363011" anchor-label="SagaActionStep" id="1111122592%2FClasslikes%2F-880363011" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"></a>
        <div class="table-row" data-filterable-current=":arrow-fx-resilience:dokkaHtmlPartial/commonMain" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain">
          <div class="main-subrow keyValue ">
            <div class=""><span class="inline-flex">
                <div><a href="-saga-action-step/index.html"><span>Saga</span><wbr><span>Action</span><wbr><span><span>Step</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1111122592%2FClasslikes%2F-880363011"></span>
                  <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                </span></span></div>
            <div>
              <div class="title">
                <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"><div class="symbol monospace"><span class="token keyword">object </span><a href="-saga-action-step/index.html">SagaActionStep</a></div><div class="brief "><p class="paragraph">Marker object to protect <a href="-saga-scope/saga.html">SagaScope.saga</a> from calling <a href="-saga-scope/bind.html">SagaScope.bind</a> in its <code class="lang-kotlin">action</code> step.</p></div></div></div>
              </div>
            </div>
          </div>
        </div>
<a data-name="-877553847%2FClasslikes%2F-880363011" anchor-label="SagaDSLMarker" id="-877553847%2FClasslikes%2F-880363011" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"></a>
        <div class="table-row" data-filterable-current=":arrow-fx-resilience:dokkaHtmlPartial/commonMain" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain">
          <div class="main-subrow keyValue ">
            <div class=""><span class="inline-flex">
                <div><a href="-saga-d-s-l-marker/index.html"><span>Saga</span><wbr><span><span>DSLMarker</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-877553847%2FClasslikes%2F-880363011"></span>
                  <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                </span></span></div>
            <div>
              <div class="title">
                <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"><div class="symbol monospace"><div class="block"><div class="block"><span class="token annotation builtin">@</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-dsl-marker/index.html"><span class="token annotation builtin">DslMarker</span></a></div></div><span class="token keyword">annotation class </span><a href="-saga-d-s-l-marker/index.html">SagaDSLMarker</a></div><div class="brief "><p class="paragraph">DSL Marker for the SagaEffect DSL</p></div></div></div>
              </div>
            </div>
          </div>
        </div>
<a data-name="1255227244%2FClasslikes%2F-880363011" anchor-label="SagaScope" id="1255227244%2FClasslikes%2F-880363011" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"></a>
        <div class="table-row" data-filterable-current=":arrow-fx-resilience:dokkaHtmlPartial/commonMain" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain">
          <div class="main-subrow keyValue ">
            <div class=""><span class="inline-flex">
                <div><a href="-saga-scope/index.html"><span>Saga</span><wbr><span><span>Scope</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1255227244%2FClasslikes%2F-880363011"></span>
                  <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                </span></span></div>
            <div>
              <div class="title">
                <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"><div class="symbol monospace"><span class="token keyword">interface </span><a href="-saga-scope/index.html">SagaScope</a></div><div class="brief "><p class="paragraph">DSL that enables the <a href="index.html#868231138%2FClasslikes%2F-880363011">Saga</a> pattern in a <code class="lang-kotlin">suspend</code> DSL.</p></div></div></div>
              </div>
            </div>
          </div>
        </div>
<a data-name="265837395%2FClasslikes%2F-880363011" anchor-label="Schedule" id="265837395%2FClasslikes%2F-880363011" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"></a>
        <div class="table-row" data-filterable-current=":arrow-fx-resilience:dokkaHtmlPartial/commonMain" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain">
          <div class="main-subrow keyValue ">
            <div class=""><span class="inline-flex">
                <div><a href="-schedule/index.html"><span><span>Schedule</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="265837395%2FClasslikes%2F-880363011"></span>
                  <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                </span></span></div>
            <div>
              <div class="title">
                <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"><div class="symbol monospace"><span class="token keyword">sealed </span><span class="token keyword">class </span><a href="-schedule/index.html">Schedule</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="-schedule/index.html">Input</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="-schedule/index.html">Output</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">A common demand when working with effects is to retry or repeat them when certain circumstances happen. Usually, the retrial or repetition does not happen right away; rather, it is done based on a policy. For instance, when fetching content from a network request, we may want to retry it when it fails, using an exponential backoff algorithm, for a maximum of 15 seconds or 5 attempts, whatever happens first.</p></div></div></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <h2 class="">Functions</h2>
      <div class="table" data-togglable="Functions"><a data-name="-90300000%2FFunctions%2F-880363011" anchor-label="retry" id="-90300000%2FFunctions%2F-880363011" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"></a>
        <div class="table-row" data-filterable-current=":arrow-fx-resilience:dokkaHtmlPartial/commonMain" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain">
          <div class="main-subrow keyValue ">
            <div class=""><span class="inline-flex">
                <div><a href="retry.html"><span><span>retry</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-90300000%2FFunctions%2F-880363011"></span>
                  <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                </span></span></div>
            <div>
              <div class="title">
                <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="retry.html">A</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="retry.html">B</a><span class="token operator">&gt; </span><a href="-schedule/index.html">Schedule</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-throwable/index.html">Throwable</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="retry.html">B</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="retry.html"><span class="token function">retry</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">fa<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><span class="token keyword"></span><a href="retry.html">A</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="retry.html">A</a></div><div class="brief "><p class="paragraph">Runs an effect and, if it fails, decide using the provided policy if the effect should be retried and if so, with how much delay. Returns the result of the effect if if it was successful or re-raises the last error encountered when the schedule ends.</p></div><div class="symbol monospace"><span class="token keyword"></span><span class="token keyword">fun </span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="retry.html">A</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="retry.html">B</a><span class="token operator">&gt; </span><span data-unresolved-link="kotlinx.coroutines.flow/Flow///PointingToDeclaration/">Flow</span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="retry.html">A</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="retry.html"><span class="token function">retry</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">schedule<span class="token operator">: </span><a href="-schedule/index.html">Schedule</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-throwable/index.html">Throwable</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="retry.html">B</a><span class="token operator">&gt;</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><span data-unresolved-link="kotlinx.coroutines.flow/Flow///PointingToDeclaration/">Flow</span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="retry.html">A</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Retries collection of the given flow when an exception occurs in the upstream flow based on a decision by the <a href="retry.html">schedule</a>. This operator is <i>transparent</i> to exceptions that occur in downstream flow and does not retry on exceptions that are thrown to cancel the flow.</p></div></div></div>
              </div>
            </div>
          </div>
        </div>
<a data-name="-365306847%2FFunctions%2F-880363011" anchor-label="retryOrElse" id="-365306847%2FFunctions%2F-880363011" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"></a>
        <div class="table-row" data-filterable-current=":arrow-fx-resilience:dokkaHtmlPartial/commonMain" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain">
          <div class="main-subrow keyValue ">
            <div class=""><span class="inline-flex">
                <div><a href="retry-or-else.html"><span>retry</span><wbr><span>Or</span><wbr><span><span>Else</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-365306847%2FFunctions%2F-880363011"></span>
                  <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                </span></span></div>
            <div>
              <div class="title">
                <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="retry-or-else.html">A</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="retry-or-else.html">B</a><span class="token operator">&gt; </span><a href="-schedule/index.html">Schedule</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-throwable/index.html">Throwable</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="retry-or-else.html">B</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="retry-or-else.html"><span class="token function">retryOrElse</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">fa<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><span class="token keyword"></span><a href="retry-or-else.html">A</a><span class="token punctuation">, </span></span><span class="parameter ">orElse<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><span class="token keyword"></span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-throwable/index.html">Throwable</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="retry-or-else.html">B</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><span class="token keyword"></span><a href="retry-or-else.html">A</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="retry-or-else.html">A</a></div><div class="brief "><p class="paragraph">Runs an effect and, if it fails, decide using the provided policy if the effect should be retried and if so, with how much delay. Also offers a function to handle errors if they are encountered during retrial.</p></div></div></div>
              </div>
            </div>
          </div>
        </div>
<a data-name="-1762205796%2FFunctions%2F-880363011" anchor-label="retryOrElseEither" id="-1762205796%2FFunctions%2F-880363011" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"></a>
        <div class="table-row" data-filterable-current=":arrow-fx-resilience:dokkaHtmlPartial/commonMain" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain">
          <div class="main-subrow keyValue ">
            <div class=""><span class="inline-flex">
                <div><a href="retry-or-else-either.html"><span>retry</span><wbr><span>Or</span><wbr><span>Else</span><wbr><span><span>Either</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1762205796%2FFunctions%2F-880363011"></span>
                  <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                </span></span></div>
            <div>
              <div class="title">
                <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="retry-or-else-either.html">A</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="retry-or-else-either.html">B</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="retry-or-else-either.html">C</a><span class="token operator">&gt; </span><a href="-schedule/index.html">Schedule</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-throwable/index.html">Throwable</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="retry-or-else-either.html">B</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="retry-or-else-either.html"><span class="token function">retryOrElseEither</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">fa<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><span class="token keyword"></span><a href="retry-or-else-either.html">A</a><span class="token punctuation">, </span></span><span class="parameter ">orElse<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><span class="token keyword"></span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-throwable/index.html">Throwable</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="retry-or-else-either.html">B</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><span class="token keyword"></span><a href="retry-or-else-either.html">C</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../../arrow-core/arrow.core/-either/index.html">Either</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="retry-or-else-either.html">C</a><span class="token punctuation">, </span><span class="token keyword"></span><a href="retry-or-else-either.html">A</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Runs an effect and, if it fails, decide using the provided policy if the effect should be retried and if so, with how much delay. Also offers a function to handle errors if they are encountered during retrial.</p></div></div></div>
              </div>
            </div>
          </div>
        </div>
<a data-name="1134715139%2FFunctions%2F-880363011" anchor-label="saga" id="1134715139%2FFunctions%2F-880363011" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"></a>
        <div class="table-row" data-filterable-current=":arrow-fx-resilience:dokkaHtmlPartial/commonMain" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain">
          <div class="main-subrow keyValue ">
            <div class=""><span class="inline-flex">
                <div><a href="saga.html"><span><span>saga</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1134715139%2FFunctions%2F-880363011"></span>
                  <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                </span></span></div>
            <div>
              <div class="title">
                <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"><div class="symbol monospace"><span class="token keyword">inline </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="saga.html">A</a><span class="token operator">&gt; </span><a href="saga.html"><span class="token function">saga</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter "><span class="token keyword">noinline </span>block<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token keyword"></span><a href="-saga-scope/index.html">SagaScope</a><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><span class="token keyword"></span><a href="saga.html">A</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="index.html#868231138%2FClasslikes%2F-880363011">Saga</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="saga.html">A</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">The Saga builder which exposes the <a href="-saga-scope/bind.html">SagaScope.bind</a>. The <code class="lang-kotlin">saga</code> builder uses the suspension system to run actions, and automatically register their compensating actions.</p></div><div class="symbol monospace"><span class="token keyword"></span><span class="token keyword">fun </span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="saga.html">A</a><span class="token operator">&gt; </span><a href="saga.html"><span class="token function">saga</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">action<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token keyword"></span><a href="-saga-action-step/index.html">SagaActionStep</a><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><span class="token keyword"></span><a href="saga.html">A</a><span class="token punctuation">, </span></span><span class="parameter ">compensation<span class="token operator">: </span><span class="token keyword">suspend </span><span class="token punctuation">(</span><span class="token keyword"></span><a href="saga.html">A</a><span class="token punctuation">)</span><span class="token operator"> -&gt; </span><span class="token keyword"></span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html">Unit</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="index.html#868231138%2FClasslikes%2F-880363011">Saga</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="saga.html">A</a><span class="token operator">&gt;</span></div><div class="brief "><p class="paragraph">Create a lazy <a href="index.html#868231138%2FClasslikes%2F-880363011">Saga</a> that will only run when the <a href="index.html#868231138%2FClasslikes%2F-880363011">Saga</a> is invoked.</p></div></div></div>
              </div>
            </div>
          </div>
        </div>
<a data-name="774987816%2FFunctions%2F-880363011" anchor-label="transact" id="774987816%2FFunctions%2F-880363011" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"></a>
        <div class="table-row" data-filterable-current=":arrow-fx-resilience:dokkaHtmlPartial/commonMain" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain">
          <div class="main-subrow keyValue ">
            <div class=""><span class="inline-flex">
                <div><a href="transact.html"><span><span>transact</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="774987816%2FFunctions%2F-880363011"></span>
                  <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                </span></span></div>
            <div>
              <div class="title">
                <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><span class="token operator">&lt;</span><span class="token keyword"></span><a href="transact.html">A</a><span class="token operator">&gt; </span><a href="index.html#868231138%2FClasslikes%2F-880363011">Saga</a><span class="token operator">&lt;</span><span class="token keyword"></span><a href="transact.html">A</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="transact.html"><span class="token function">transact</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">: </span><a href="transact.html">A</a></div><div class="brief "><p class="paragraph">Transact runs the <a href="index.html#868231138%2FClasslikes%2F-880363011">Saga</a> turning it into a <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/index.html">suspend</a> effect that results in <a href="transact.html">A</a>. If the saga fails then all compensating actions are guaranteed to run. When a compensating action failed it will be ignored, and the other compensating actions will continue to be run.</p></div></div></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <h2 class="">Properties</h2>
      <div class="table" data-togglable="Properties"><a data-name="666853984%2FProperties%2F-880363011" anchor-label="NanosDeprecation" id="666853984%2FProperties%2F-880363011" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"></a>
        <div class="table-row" data-filterable-current=":arrow-fx-resilience:dokkaHtmlPartial/commonMain" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain">
          <div class="main-subrow keyValue ">
            <div class=""><span class="inline-flex">
                <div><a href="-nanos-deprecation.html"><span>Nanos</span><wbr><span><span>Deprecation</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="666853984%2FProperties%2F-880363011"></span>
                  <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                </span></span></div>
            <div>
              <div class="title">
                <div class="platform-hinted " data-platform-hinted="data-platform-hinted" data-togglable="Properties"><div class="content sourceset-dependent-content" data-active="" data-togglable=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"><a data-name="666853984%2FProperties%2F-880363011" anchor-label="NanosDeprecation" id="666853984%2FProperties%2F-880363011" data-filterable-set=":arrow-fx-resilience:dokkaHtmlPartial/commonMain"></a><div class="symbol monospace"><span class="token keyword">const </span><span class="token keyword">val </span><a href="-nanos-deprecation.html">NanosDeprecation</a><span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a></div></div></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>© 2023 Copyright</span><span class="pull-right"><span>Generated by </span><a href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
    </div>
</div>

</body></html>

